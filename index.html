<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arjan AI Assistant ğŸš€</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0b0e14] text-white flex flex-col items-center min-h-screen p-4 font-sans">
    <div class="w-full max-w-md bg-[#1a1d24] rounded-2xl shadow-2xl overflow-hidden border border-gray-800 flex flex-col h-[85vh]">
        <div class="p-4 bg-[#23272f] border-b border-gray-700 text-center font-bold text-xl text-blue-400">
            Arjan AI Assistant ğŸ¤–
        </div>
        
        <div id="chat-box" class="flex-1 overflow-y-auto p-4 space-y-4">
            <div class="flex flex-col items-start">
                <p class="bg-[#23272f] p-3 rounded-2xl rounded-tr-none text-sm max-w-[85%] border border-gray-700">
                    Ø³ÚµØ§Ùˆ Ø¨Ø±Ø§! Ø¦Û•Ø² ÛŒÛ Ø¦Ø§Ù…Ø§Ø¯Û•Ù…Û• Ø¨Û† ÙˆÛ•Ù„Ø§Ù…Ø¯Ø§Ù†Ø§ Ù‡Û•Ø± Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Û. ØªØ´ØªÛ•Ú©Û Ø¨Ù†Ú¤ÛŒØ³Û•...
                </p>
            </div>
        </div>

        <div class="p-4 bg-[#23272f] border-t border-gray-700 flex gap-2">
            <input id="user-msg" type="text" class="flex-1 bg-[#0b0e14] border border-gray-700 rounded-xl px-4 py-3 outline-none focus:border-blue-500 transition-all text-sm" placeholder="Ù„ÛØ±Û• Ø¨Ù†Ú¤ÛŒØ³Û•...">
            <button onclick="send()" id="send-btn" class="bg-blue-600 hover:bg-blue-700 px-5 py-3 rounded-xl font-bold transition-all active:scale-95 shadow-lg">ÙØ±ÛÚ©Ø±Ù†</button>
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chat-box');
        const input = document.getElementById('user-msg');

        async function send() {
            const msg = input.value.trim();
            if(!msg) return;

            // Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†Ø§ Ù†Ø§Ù…Û•ÛŒØ§ ØªÛ•
            chatBox.innerHTML += `<div class="flex flex-col items-end"><p class="bg-blue-600 p-3 rounded-2xl rounded-tl-none text-sm max-w-[85%] shadow-md">ØªÛ•: ${msg}</p></div>`;
            input.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;

            try {
                // Ú¯Ø±ÛØ¯Ø§Ù† Ø¨ Ù…ÛØ´Ú©ÛŒ Ú¤Û•
                const response = await fetch(`https://arjan-backend.vercel.app/api/chat?message=${encodeURIComponent(msg)}`);
                const data = await response.json();
                
                // Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†Ø§ ÙˆÛ•Ù„Ø§Ù…Û AI
                chatBox.innerHTML += `<div class="flex flex-col items-start"><p class="bg-[#23272f] p-3 rounded-2xl rounded-tr-none text-sm max-w-[85%] border border-gray-700 shadow-sm">AI: ${data.response}</p></div>`;
            } catch (error) {
                chatBox.innerHTML += `<div class="text-center"><p class="text-red-400 text-xs py-2 bg-red-900/20 rounded-lg border border-red-800/30">Ú©ÛØ´Û•ÛŒÛ•Ú© Ø¯ Ø¦ÛŒÙ†ØªÛ•Ø±Ù†ÛØªÛ Ø¯Ø§ Ù‡Û•Ø¨ÙˆÙˆ! Ø¯ÙˆÙˆØ¨Ø§Ø±Û• ØªØ§Ù‚ÛŒ Ø¨Ú©Û•.</p></div>`;
            }
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Ø¨Û† Ù‡Ù†Ø¯Û Ø¨ Ø¯ÙˆÚ¯Ù…Û•ÛŒØ§ Enter Ú˜ÛŒ Ù†Ø§Ù…Û• Ø¨Ú†ÛŒØª
        input.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                send();
            }
        });
    </script>
</body>
</html>
