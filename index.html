<div class="contact-form">
    <h3 style="color: var(--gold); font-family: 'Orbitron';">SECURE DATABASE CONNECT</h3>
    <form id="secureArjanForm">
        <input type="text" id="name" placeholder="Full Name (ناڤ)" required>
        <input type="email" id="email" placeholder="Email Address (ئیمەیل)" required>
        <p id="sec-alert" style="color: red; font-size: 0.7rem; display: none;">SECURITY ALERT: FAKE EMAIL BLOCKED</p>
        
        <input type="tel" id="phone" placeholder="Phone Number (رقمێ مۆبایلێ)" required>
        <textarea id="message" rows="3" placeholder="Message (پەیام)"></textarea>
        <button type="submit" style="background:var(--gold); color:white; border:none; cursor:pointer; font-weight:bold; width:100%; padding:12px; border-radius:10px;">SEND TO DATABASE</button>
    </form>
</div>

<script>
    const form = document.getElementById('secureArjanForm');
    const secAlert = document.getElementById('sec-alert');

    form.onsubmit = async (e) => {
        e.preventDefault();
        
        const emailValue = document.getElementById('email').value.toLowerCase();
        const blockedDomains = ['test.com', 'abc.com', 'fake.com', 'tempmail.com'];
        const domain = emailValue.split('@')[1];

        // 1. پشکنینا ئەمنی: بلۆککرنا ئیمەیلێن فەیک
        if (blockedDomains.includes(domain) || emailValue.startsWith('test@')) {
            secAlert.style.display = 'block';
            document.getElementById('email').style.borderColor = 'red';
            return;
        }

        // 2. فرێکرنا داتایێ بۆ Database (ب ڕێکا API یان Formspree Database)
        const data = {
            name: document.getElementById('name').value,
            email: emailValue,
            phone: document.getElementById('phone').value,
            message: document.getElementById('message').value
        };

        // ل ڤێرێ داتایێ تە دچیتە د ناڤ داتابەیسەکا پاراستی دا
        fetch("https://formspree.io/f/xbjnvnve", {
            method: "POST",
            body: JSON.stringify(data),
            headers: { 'Content-Type': 'application/json' }
        }).then(response => {
            if (response.ok) {
                alert("MESSAGE SECURELY STORED IN DATABASE");
                form.reset();
            }
        });
    };
</script>
