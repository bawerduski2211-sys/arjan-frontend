<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diamond Login | ARJAN</title>
    <link rel="stylesheet" href="premium-style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="gold-overlay"></div>

    <div class="auth-container">
        <div id="login-form" class="auth-card">
            <div class="diamond-icon">ğŸ’</div>
            <h2>Diamond Login</h2>
            <input type="email" id="login-email" placeholder="Ø¦ÛŒÙ…Û•ÛŒÚµ">
            <input type="password" id="login-pass" placeholder="Ù¾Ø§Ø³Û†Ø±Ø¯">
            <p class="forgot-btn" onclick="showForm('forgot-form')">Ù¾Ø§Ø³Û†Ø±Ø¯ Ú˜ Ø¨ÛŒØ± Ú©Ø±ÛŒÛŒÛ•ØŸ</p>
            <button onclick="validateLogin()" class="btn-diamond">Ú†ÙˆÙˆÙ†Û•Ú˜Û†Ø±</button>
            <p class="switch-text">Ø¦Û•Ú©Ø§ÙˆÙ†Øª ØªÛ• Ù†ÛŒÙ†Û•ØŸ <span onclick="showForm('signup-form')">Ø¯Ø±ÙˆØ³Øª Ø¨Ú©Û•</span></p>
        </div>

        <div id="signup-form" class="auth-card hidden">
            <div class="diamond-icon">ğŸš€</div>
            <h2>Create Account</h2>
            <input type="text" id="reg-name" placeholder="Ù†Ø§Ú¤Û ØªÛ•Ù…Ø§Ù…">
            <input type="email" id="reg-email" placeholder="Ø¦ÛŒÙ…Û•ÛŒÚµ">
            <input type="tel" id="reg-phone" placeholder="Ú˜Ù…Ø§Ø±Ø§ Ù…Û†Ø¨Ø§ÛŒÙ„Û">
            <input type="password" id="reg-pass" placeholder="Ù¾Ø§Ø³Û†Ø±Ø¯">
            <button onclick="handleSignUp()" class="btn-diamond">SEND CODE</button>
            <p class="switch-text">Ø¦Û•Ú©Ø§ÙˆÙ†Øª ØªÛ• Ù‡Û•ÛŒÙ†ØŸ <span onclick="showForm('login-form')">Ø¨Ú†Û† Ú˜Û†Ø±</span></p>
        </div>

        <div id="forgot-form" class="auth-card hidden">
            <div class="diamond-icon">ğŸ”‘</div>
            <h2>Reset Password</h2>
            <p style="font-size: 14px; color: #666;">Ø¦ÛŒÙ…Û•ÛŒÚµØ§ Ø®Û† Ø¨Ù†Ú¤ÛŒØ³Û• Ø¨Û† Ú©Ù€Û†Ø¯ÛŒ</p>
            <input type="email" id="reset-email" placeholder="Ø¦ÛŒÙ…Û•ÛŒÚµ">
            <button onclick="handleReset()" class="btn-diamond" style="margin-top: 10px;">SEND RESET LINK</button>
            <p class="switch-text"><span onclick="showForm('login-form')">Ø²Ú¤Ú•ÛŒÙ† Ø¨Û† Ú†ÙˆÙˆÙ†Û•Ú˜Û†Ø±</span></p>
        </div>
    </div>

    <script>
        // Ú©Ù„ÛŒÙ„ÛÙ† ØªÛ• ÛŒÛÙ† Ø¯Ø§ØªØ§Ø¨Û•ÛŒØ³Û
        const supabaseUrl = 'https://bawerduski2211-sys-s-project.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhd2VyZHVza2kyMjExLXN5cy1zLXByb2plY3QiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTczNDgxNDI4MCwiZXhwIjoyMDUwMzkwMjgwfQ.qR5q8z_1Xq3Xm-yN-4N9yN-yN-yN-yN-yN-yN-yN';
        const supabase = supabase.createClient(supabaseUrl, supabaseKey);

        function showForm(formId) {
            document.querySelectorAll('.auth-card').forEach(card => card.classList.add('hidden'));
            document.getElementById(formId).classList.remove('hidden');
        }

        async function handleSignUp() {
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-pass').value;
            const { error } = await supabase.auth.signUp({ email, password });
            if (error) alert(error.message);
            else alert("Ø³Û•Ø±Ú©Û•ÙØªÛŒ Ø¨ÙˆÙˆ! Ø¦ÛŒÙ…Û•ÛŒÚµØ§ Ø®Û† Ù¾Ø´Ú©Ù†ÛŒÙ† Ø¨Ú©Û•.");
        }

        async function validateLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-pass').value;
            const { error } = await supabase.auth.signInWithPassword({ email, password });
            if (error) alert("Ø¦ÛŒÙ…Û•ÛŒÚµ ÛŒØ§Ù† Ù¾Ø§Ø³Û†Ø±Ø¯ Ø®Û•Ù„Û•ØªÛ•!");
            else alert("Ø¨Ø®ÛØ± Ø¨ÛÛŒ!");
        }

        async function handleReset() {
            const email = document.getElementById('reset-email').value;
            const { error } = await supabase.auth.resetPasswordForEmail(email);
            if (error) alert(error.message);
            else alert("Ù„ÛŒÙ†Ú© Ø¨Û† ØªÛ• Ù‡Ø§ØªÛ• ÙØ±ÛÚ©Ø±Ù†.");
        }
    </script>
</body>
</html>
